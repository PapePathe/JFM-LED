<div class="dashboard-wrap">
  <%= render "shared/sidebar"%>
  <%= render "shared/sidebar_forjs"%>

  <div class="dashboard-content with_right_sidebar">
    <div class="padding-box">
      <h1 class="text-center">Rapport de MP <%= @report.id %>
        <% if @user.technician? %>
          <%= link_to(content_tag(:i, nil, class: 'fa fa-pencil'), edit_technician_report_path(@report))%>
        <% end %>
      </h1>

      <!-- FORM -->
      <% @sections.each do |section| %>
        <div id="Section-<%= section.id %>" class="tabcontent card-note card-line text-center">
          <h3 class="underline"><%= t('sections.'+section.name).capitalize %></h3>
          <% section.questions.each do |q| %>
            <div class="text-left">
              <p><%= q.name %></p>
              <% if q.answers.nil? %>
                <p>-------</p>
              <% else %>
                <p>-------</p>
              <% end %>
            </div>
          <% end %>
        </div>
      <% end %>

    </div>
  </div>
</div>

<script>
 function openTab(event, elementId) {
  // Declare all variables
  var i, tabcontent, tablinks;

  // Get all elements with class="tabcontent" and hide them
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
      tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(elementId).style.display = "block";
  event.currentTarget.className += " active";

    // Get the element with id="defaultOpen" and click on it
  // document.getElementById("tab-info").click(); << INFINITE LOOP?
  }
</script>

